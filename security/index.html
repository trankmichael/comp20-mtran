<!DOCTYPE html>
<html>

<head>
<title> COMP 20: Security Report </title>
</head>

<body>
<h1> Security Report </h1>
<h2> Introduction </h2>
<p>This is an assessment of the "Where In The World" and "MMAP" web applications. The objective of this report is to find and detail vulnerabilities found. The "Where in the World" web application relises on MongoDB to register the location check-ins of users. The api includes methods which accept new database entries, return the collection of documents, return redline json data, and accept querires for single users.  The MMAP web application functions to read a users location and post to the "Where in the World" application.  </p>

<h2> Methodology </h2>
<p> First, the web application was analyzed by simply testing out certain attacks and inputs on the application running on the heroku server. I mainly tested using common known vulnerabilities of XSS and SQL injection in MongoDB.</p>

<h2> Abstract of Findings </h2>
<p> The security issues identified largely come from the lack of user input filtering.  The web application readily accepts user input and data without scrubbing or the escaping of special characters.  This allows users to easily inject scripts and malicious input.  This unsanitized input can have catastrophic effects on the database.  As shown in the section below the application is open to a variety of attacks which allow attackers to access and edit the database content that is not meant to be seen or touched. </p>

<h2> Issues Found </h2>

<li> <h3> Cross Site Scripting: </h3>
	<ul>
	<li>Location: /sendLocation
	<li>Severity: HIGH </br> This is a extremely severe vulnerability.  It allows attackers to input any type of script which is then propogated to all other users who access the database. 
	<li>Description:The /sendLocation POST method is susceptible to Cross Site Scripting. Javascript using curl commands such as this.
		<p><img src="images/xsscommand.jpg" alt="xss command"/></p>
	<li>Proof of Vulnerability: The XSS is evidenced by the javascript alert box popup window
		 <p><img src="images/xssevidence.jpg" alt="xss evidence" /></p>
	</ul>
</li>

<li> <h3> SQL Injection: </h3>
	<ul>
	<li>Location: /locations.json
	<li>Severity: HIGH </br> This is a severe vulnerability.  SQL injection allows attackers to sppof their identity as shown below.  This allows them to access otherwise restricted and potentially confidential information.  Having access to such information can allow them to tamber with the database itself.
	<li>Description: In the locations required query a "[$ne]" tag was simply injected with the number 1.  The web application then returned the JSON information of all users not named "1".  As no such user existed all the JSON data was returned.  Though the severity of this particular injection is not greatly catastrophic as all the data is accessible through the "/" index regardless, this reveals a severe flaw in the lack of special character handling for the MongoDB queries. 
	<li>Proof of Vulnerability:
		 <p><img src="images/sqlevidence.jpg" alt="sql evidence" /></p>
	<li>Resolution:
	</ul>
</li>

<li> SQL Injection:
	<ul>
	<li>Location
	<li>Severity: HIGH
	<li>Description:
	<li>Proof of Vulnerability:
	<li>Resolution:
	</ul>
</li>

<li> SQL Injection:
	<ul>
	<li>Location
	<li>Severity: HIGH
	<li>Description:
	<li>Proof of Vulnerability:
	<li>Resolution:
	</ul>
</li>

